@page "/animalcard"

@using model = AnimalShelter.Shared
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication
@using System.ComponentModel.DataAnnotations


<div class="card" style="width: 18rem;">
    <img src="@CurrentAnimal.PictureUrl" class="card-img-top" alt="My Picture">
    <div class="card-body">
        <h5 class="card-title">@CurrentAnimal.Name</h5>
        <p class="card-text">
            @if (CurrentAnimal.AnimalKind == model.AnimalKind.Dog)
            {
                @: I'm a @(CurrentAnimal.Gender == model.Gender.Male?"male":"female") dog of @CurrentAnimal.Age years old.
            }
            else
            {
                @: I'm a @(CurrentAnimal.Gender == model.Gender.Male?"male":"female") cat of @CurrentAnimal.Age years old.
            }
        </p>
        <a href="/animaldetail/@CurrentAnimal.Id" class="btn btn-primary">Details</a>

        
        <button class="btn btn-primary" @onclick="Adopt">Adopt</button>
    </div>
</div>


@code {

    [Parameter]
    public model.Animal CurrentAnimal { get; set; }

    [Parameter]
    public EventCallback<model.Animal> OnAnimalAdopted { get; set; }

    protected override void OnInitialized()
    {
    }

    private void Adopt()
    {
        OnAnimalAdopted.InvokeAsync(CurrentAnimal);
    }





}
